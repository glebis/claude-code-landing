<!DOCTYPE html>
<html lang="en" class="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Онлайн-лаборатория по работе с Claude code</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Geist+Mono:wght@100..900&family=Geist:wght@100..900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=EB+Garamond:ital,wght@0,400..800;1,400..800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./styles.css">
    <meta property="og:image" content="og_image.png">
    <style>
        .terminal-demo {
            margin: clamp(4rem, 8vw, 6rem) 0;
            display: grid;
            gap: clamp(2.5rem, 6vw, 4rem);
        }

        .terminal-demo__columns {
            display: grid;
            gap: clamp(2rem, 5vw, 3rem);
        }

        @media (min-width: 900px) {
            .terminal-demo__columns {
                grid-template-columns: minmax(0, 1fr) minmax(0, 1.2fr);
                align-items: start;
            }
        }

        .welcome-terminal {
            background: linear-gradient(140deg, rgba(20, 24, 35, 0.95), rgba(10, 13, 21, 0.88));
            border: 1px solid color-mix(in srgb, var(--accent) 18%, transparent);
            border-radius: 18px;
            padding: clamp(1.75rem, 5vw, 2.5rem);
            box-shadow: 0 30px 60px rgba(8, 11, 19, 0.25);
            font-family: "Geist Mono", monospace;
            color: var(--accent);
            overflow: hidden;
        }

        .welcome-terminal__title {
            font-size: clamp(1.35rem, 3vw, 1.65rem);
            line-height: 1.6;
            white-space: pre;
            margin-bottom: clamp(1.5rem, 3vw, 2rem);
        }

        .welcome-terminal__intro {
            color: var(--text-secondary);
            margin-bottom: 1rem;
        }

        .welcome-terminal__code {
            color: var(--text-muted);
            font-size: clamp(0.8rem, 2.2vw, 0.95rem);
            line-height: 1.8;
        }

        .terminal-shell {
            background: linear-gradient(150deg, rgba(7, 10, 19, 0.95), rgba(20, 24, 35, 0.92));
            border: 1px solid color-mix(in srgb, var(--accent) 12%, transparent);
            border-radius: 20px;
            backdrop-filter: blur(18px);
            font-family: "Geist Mono", monospace;
            color: var(--text-primary);
            overflow: hidden;
            box-shadow: 0 40px 65px rgba(5, 8, 17, 0.35);
        }

        .terminal-shell__header {
            display: flex;
            align-items: center;
            gap: 0.45rem;
            padding: 1rem 1.25rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.06);
        }

        .terminal-shell__dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: radial-gradient(circle at 35% 30%, rgba(255, 255, 255, 0.65), rgba(255, 95, 88, 0.85));
            opacity: 0.9;
            box-shadow: 0 0 8px rgba(255, 95, 88, 0.35);
        }

        .terminal-shell__dot:nth-child(2) {
            background: radial-gradient(circle at 35% 30%, rgba(255, 255, 255, 0.65), rgba(255, 189, 46, 0.85));
            box-shadow: 0 0 8px rgba(255, 189, 46, 0.35);
        }

        .terminal-shell__dot:nth-child(3) {
            background: radial-gradient(circle at 35% 30%, rgba(255, 255, 255, 0.65), rgba(40, 201, 64, 0.85));
            box-shadow: 0 0 8px rgba(40, 201, 64, 0.35);
        }

        .terminal-shell__body {
            padding: clamp(1.5rem, 4.5vw, 2.25rem);
            position: relative;
            min-height: clamp(16rem, 38vw, 21rem);
        }

        .terminal-thinking {
            display: none;
            align-items: center;
            gap: 0.65rem;
            color: var(--accent);
            font-size: clamp(0.9rem, 2.4vw, 1rem);
        }

        .terminal-thinking__icon {
            font-size: 1.4em;
        }

        .terminal-thinking.is-active {
            display: inline-flex;
        }

        .terminal-log[hidden] {
            display: none !important;
        }

        .terminal-entry + .terminal-entry {
            margin-top: clamp(1.4rem, 3vw, 1.8rem);
        }

        .terminal-command {
            display: grid;
            grid-template-columns: auto 1fr;
            gap: 0.75rem;
            align-items: start;
            color: var(--accent);
            font-size: clamp(0.9rem, 2.4vw, 1.05rem);
        }

        .terminal-output {
            margin-left: 1.65rem;
            margin-top: 0.75rem;
            line-height: 1.75;
            color: var(--text-secondary);
            font-size: clamp(0.86rem, 2.2vw, 0.98rem);
        }

        .terminal-output p + p {
            margin-top: 0.8rem;
        }

        .terminal-output ul {
            margin: 0.6rem 0 0;
            padding-left: 1.1rem;
        }

        .terminal-output li {
            margin-bottom: 0.35rem;
        }

        .terminal-tagline {
            display: inline-flex;
            align-items: center;
            gap: 0.66rem;
            margin-top: 1.5rem;
            color: var(--text-secondary);
            font-size: clamp(0.78rem, 2vw, 0.9rem);
        }

        .terminal-tagline::before {
            content: "*";
            color: var(--accent);
        }

        @media (prefers-reduced-motion: reduce) {
            .terminal-shell,
            .welcome-terminal {
                animation: none !important;
                transition: none !important;
            }
        }
    </style>
</head>
    <body>
        <!-- Progress Bar -->
        <div id="progress-bar" style="position: fixed; top: 0; left: 0; height: 5px; width: 0%; background-color: var(--accent); z-index: 1001;"></div>
        
        <!-- Theme Toggle -->
    <div class="theme-toggle-container">
        <div class="theme-toggle" id="theme-toggle">
            <div class="theme-toggle-thumb">
                <span class="theme-toggle-icon">☀️</span>
            </div>
        </div>
        <div class="telegram-button-container">
            <a class="telegram-button" href="https://t.me/m/Huow25QQZmYy" target="_blank" rel="noopener noreferrer" aria-label="Написать в телеграм (@glebkalinin)">
                <svg class="telegram-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16" aria-hidden="true">
                    <path d="M9.964 15.568l-.246 3.463c.352 0 .505-.151.688-.333л1.651-1.588 3.418 2.51c.626.347 1.073.165 1.244-.58л2.254-10.556h.001c.2-.932-.337-1.296-.95-1.07L3.23 11.07c-.912.353-.898.861-.155 1.09л3.91 1.219 9.084-5.73c.427-.279.816-.125.496.154" fill="currentColor"/>
                </svg>
                <span>Написать в телеграм</span>
            </a>
        </div>
    </div>

    <div class="container">
        <section class="shader-hero">
            <!-- <div id="shader-bg" class="shader-bg" aria-hidden="true"></div> -->
        <header class="header" id="header" style="text-align: left;">
            <!-- <h1 class="logo">A G E N C Y</h1> -->
            <p class="tagline">Онлайн-лаборатория по работе с&nbsp;Claude&nbsp;Code<br><em>С 11 ноября → 5 недель</em><br>2 раза в неделю</p>
        </header>




        <main class="main-content">
            <div style="display: grid; grid-template-columns: 1fr 1.2fr; gap: 3rem; align-items: start; max-width: 1400px; margin: 0 auto;">
                <div class="content-section" id="content-section" style="min-width: 0;">
                    <h2 class="hero-text" id="hero-text">
                        <span class="hero-word">Claude Code</span><br>
                        <span class="hero-word"><em>для</em></span><br>
                        <span class="hero-word highlight" data-skip-letters>
                            <span class="highlight-rotator">продактов</span><span class="highlight-cursor" aria-hidden="true">▋</span>
                        </span><br>

                    </h2>

                    <p class="description">

                    </p>

                    <a href="#intro" class="cta-button">Что за процесс →</a>
                </div>

                <div class="terminal-shell" data-terminal-shell style="min-width: 0; width: 100%; max-width: 700px;">
                    <div class="terminal-shell__header" aria-hidden="true">
                        <span class="terminal-shell__dot"></span>
                        <span class="terminal-shell__dot"></span>
                        <span class="terminal-shell__dot"></span>
                    </div>
                    <div class="terminal-shell__body">
                        <div class="terminal-thinking" data-terminal-thinking>
                            <span class="terminal-thinking__icon" aria-hidden="true">✻</span>
                            <span class="terminal-thinking__text">Связываю…</span>
                        </div>

                        <div class="terminal-log" data-terminal-log hidden>
                            <article class="terminal-entry">
                                <div class="terminal-command">
                                    <span aria-hidden="true">&gt;</span>
                                    <span>I'm new to this codebase. Can you explain it to me?</span>
                                </div>
                                <div class="terminal-output">
                                    <p>⏺ I'll analyze the project structure and give you a high-level overview.</p>
                                    <p>⏺ Analyze(what: "Excalidraw codebase structure, main components, and key features.")</p>
                                    <p><strong>Purpose</strong><br>
                                        – Создаёт бесконечную онлайн-доску для эскизов<br>
                                        – Хранит и шифрует совместную работу<br>
                                        – Поддерживает PWA и оффлайн-режим
                                    </p>
                                    <p><strong>Архитектура</strong><br>
                                        1. packages/excalidraw — React-компонента с rough.js<br>
                                        2. excalidraw-app — оболочка с коллаборацией, экспортами и локальным хранилищем<br>
                                        3. packages/common, element, utils — общие типы, математика и хелперы<br>
                                        4. examples/ — шаблоны интеграции в Next.js и браузер
                                    </p>
                                    <p><strong>Стек</strong><br>
                                        React · TypeScript · Firebase · Jotai · Vite · IndexedDB</p>
                                </div>
                            </article>

                            <article class="terminal-entry">
                                <div class="terminal-command">
                                    <span aria-hidden="true">&gt;</span>
                                    <span>Refactor the permission request components to share common UI elements and behavior.</span>
                                </div>
                                <div class="terminal-output">
                                    <p>⏺ Search(папки: "src/components/permissions/*PermissionRequest.tsx")</p>
                                    <p>⏺ Создаю BasePermissionRequest: общие стили, обработка ESC и цифровых хоткеев.</p>
                                    <p>⏺ Update(src/components/permissions/BasePermissionRequest.tsx)</p>
                                    <p>⏺ Обновляю FallbackPermissionRequest и WebFetchPermissionRequest, подключаю базовый компонент, удаляю дублирование.</p>
                                    <p>⏺ test/e2e/mcp.test.tsx — правлю селекторы под новый UI, прогоняю npm run test и lint — всё зелёное.</p>
                                </div>
                            </article>

                            <article class="terminal-entry">
                                <div class="terminal-command">
                                    <span aria-hidden="true">&gt;</span>
                                    <span>Create an interactive tool that shoots out emojis using real-world physics.</span>
                                </div>
                                <div class="terminal-output">
                                    <p>⏺ Создаю HTML-артефакт с Canvas API и Matter.js для физики.</p>
                                    <p>⏺ Write(emoji-physics.html)</p>
                                    <p>✓ Готово: кликай, выбирай эмодзи, наблюдай за реалистичной гравитацией и коллизиями.</p>
                                </div>
                            </article>
                        </div>
                    </div>
                </div>
            </div>
        </main>
        </section>

        <main class="" id="intro" style="margin-bottom: 4rem">
            <div class="content-section" style="font-size: 2.2rem; line-height: 1.5; width: 100%;">
                <span class="highlight-bg">5 недель</span> совместного исследования и практики работы с одним из самых эффективных ИИ-агентов. <i class="middot">⏺</i> 
                Работает со документами: организуем, наполняем, обрабатываем <i class="middot">⏺</i>
                Упаковываем повторяющиеся действия в <em>Claude Skills</em> <i class="middot">⏺</i>
                  Создаём интерактивные ии-фичи в <em>Claude Artefact</em>  <i class="middot">⏺</i> 
<i class="middot">⏺</i> Создаём функциональные прототипы приложений <i class="middot">⏺</i>
                  
Совмещаем работу с <em>Replit</em> и&nbsp;<em>Lovable</em>. <i class="middot">⏺</i>

<i class="middot">⏺</i> Создаём ии-автоматизации, сайты и&nbsp;веб-приложения, ботов в телеграме, экспериментальные приложения и интерфейсы. 

<i class="middot">⏺</i> Используем другие нейросети для оптимизации стоимости работы 

<i class="middot">⏺</i> Подключаем внешние
<em>API</em> и&nbsp;<label title="Model Context Protocol"><em>MCP</em></label>. 

<i class="middot">⏺</i> Деплоим на облачные сервисы (<em>Vercel</em>, <em>Netlify</em>, <em>Railway</em>) <span class="highlight-bg">Скучно не будет.</span>

            </div>
        </main>


        <section class="value-proposition" id="value-proposition">

            <section class="three-column-section" id="value-proposition-section">
                <div class="column">
                    <h2 class="column-title">
                        <em>Инструменты меняются.</em> Привычка мыслить, формулировать и&nbsp;строить остаётся
                    </h2>
                </div>
                <div class="column">
                    <p class="column-text">
                        На лаборатории мы не просто погружаемся в изучение инструментов: они быстро устареют. Чтобы жить в мире с агентами, <em>нанимать их</em> и получать результаты, нам нужно учиться мыслить <em>системно</em>.
                    </p>
                </div>
                <div class="column">
                    <p class="column-text">
                        Мы будет учиться формулировать задачи так, чтобы технология работала на вас. Описывать задачи, детализировать контекст, формулировать требования, мыслить структурами и алгоритмами. Спецификация, написанная на естественном языке&nbsp;— то, что превращает идею в&nbsp;реальный продукт.
                    </p>
                </div>
            
        </section>

        <!-- For Whom Section -->
        <section class="three-column-section" id="for-whom-section">
            <div class="column">
                <h3 class="column-title">
                    Для <span class="highlight">кого</span>
                </h3>
            </div>

            <div class="column">
                <!-- <p class="column-text">На мои лаборатории приходят предприниматели, учёные, разработчики, генералисты и специалисты. Люди, готовые инвестировать время, внимание и усилия в развитие навыков будущего.
                </p> -->

                <ul>
                    <li><strong class="highlight">Для предпринимателей.</strong> Если вы ищете способы оптимизировать существующий бизнес, найти новые ниши и получить опыт регулярной структурированной работы с генеративным ИИ и агентами. </li>
                    <li><strong class="highlight">Для мультипотенциалов.</strong> Если вам всегда тесно в рамках одной профессии, вы развиваете несколько профессиональных направлений, ведёте блоги и&nbsp;рассылки на самые разные темы, а остановиться на чём-то одном просто невозможно. </li>     
                    <li><strong class="highlight">Для профессионалов.</strong> Вы продакт, дизайнер или арт-директор, исследователь, CPO или CTO, и хотите через практику получить представление о том, на что способны ии-агенты уже сейчас, и предполодить, как они будут работать через 5 лет — и как тогда может выглядеть ваша профессия и будущее компаний и индустрий, в которых вы работаете.</li>

                        
                </ul>
            </div>

            <div class="column">
                <ul>
                <li><strong class="highlight">Для разработчиков.</strong> Чтобы получить обзор технологий и платформ, ускоряющих разработку. Чтобы встроить привычку применять агентов там, где это имеет смысл и целесообразно. Чтобы разобраться с тем, как работает Software 3.0 и в чём отличие от традиционного подхода к разработке.</li>
                <li><strong class="highlight">Для тех, кто готов действовать.</strong> Вы хотите, чтобы основные проекты приносили ощутимый результат: деньги, связи, публичность, социальный капитал, а для этого готовы перейти от полусырых идей к подробным эскизам, описаниям процессов и подробным требованиям, к построению прототипов софта и бизнес-процессов, и к тестированию гипотез.</li>
                </ul>
                    <!--<p class="column-text">Примеры исследований, на которые будем опираться:</p>
                    <ul>
                        <li>
                            <a href=""></a>
                        </li>
                    </ul>-->
            </div>

            <div class="column col-span-2-offset-1">
                <p class="column-text" style="margin-bottom: 1.8rem; font-size: 130%;">
                <em>Мои лаборотории подойдут тем, для кого важен рациональный, доказательный подход к деятельности. Мы руководствуемся исследованиями и лучшими практиками, предлагаемыми компантиями-разработчиками больших языковых моделей и подходы к работе с LLM и агентами, показавшие свою  эффективность. Да, это исследуют и публикуют научные статьи.</em> </p>
            </div>
        </section>

        



        <section class="three-column-section" id="for-whom-section">
            <div class="column">
                <h3 class="column-title">
                    Ваш <span class="highlight">проект</span>
                </h3>
            </div>

            <div class="column">
                <p class="column-text">
                    На лабораториях я рекомендую практический подход, который удобнее всего реализовать через собственный проект. Для кого-то проектом может стать прототип бизнес-процесса, автоматизация или агент. Кто-то ограничится исследованием: технологического стека, кейсов, идей и потребностей, ограничений и ресурсов.</p>

            </div>

            <div class="column">
                <p class="column-text">
                    На лабораториях я рекомендую практический подход, который удобнее всего реализовать через собственный проект. Для кого-то проектом может стать прототип бизнес-процесса, автоматизация или агент. Кто-то ограничится исследованием: технологического стека, кейсов, идей и потребностей, ограничений и ресурсов.</p>

            </div>


        </section>        


        <section class="three-column-section" id="for-whom-section">
            <div class="column">
                <h3 class="column-title">
                    Как проходит <span class="highlight">лаборатория</span>
                </h3>
            </div>

            <div class="column">
                <p class="column-text">
                    Практика. 
                </p>

            </div>

            <div class="column">
                <p class="column-text">
                    Живые сессии предполагают активное участие в процессе. <strong>Технические демо</strong> в виде отдельных коротких видео мы публикуем между занятиями. На живых встречах можно в реальном времени пользоваться агентами и ассистентами, создавать прототипы, писать и запускать код и пользоваться инструментами для анализа данных, однако на глубокую работу рекомендуем закладывать дополнительное время.
                </p>
            </div>
        </section>     

        <main class="main-content">
            <div class="content-section" id="content-section-who">
                <h3 class="column-title">
                    Глеб <span class="highlight">Калинин</span>
                </h3>
                <p class="description description-author"><em>Создатель и ведущий лабораторий по изучению искусственного интеллекта и управлению знаний, разработчик ии-продуктов и&nbsp;экспериментальных интерфейсов.</em></p>
                <p class="description">
                    «Я 20 лет проработал в IT, и большую часть времени что-то строил и делал руками. Я мультипотенциал — мне неинтересно заниматься чем-то одним, у меня несколько профессий, и постоянно появляются новые комбинации старых. </p>  
                    
                    <p class="description">
                    Я быстро понял, что агенты позволят нам пользоваться всеми уже существующими технологиями, а также создавать новые налету. С выходом ChatGPT я использую его и другие модели для создания своих инструментов: пишу код, автоматизации, экспериментирую с интерфейсами — наработками делюсь в канале <a href="https://t.me/m/Huow25QQZmYy">Tool Building Ape</a> в Телеграме и&nbsp;на&nbsp;своём <a href="https://github.com/glebis">гитхабе</a>.»
                </p>

              

                

                <p class="description">Я веду лабораторию по изучению искусственного интеллекта и использованию агентов для создания экономически значимой работы с 2023 года, через мои лаборатории прошло около 300 человек.</p>

                <p class="description" style="font-size: 90%;">Где я работал: CPO Ozon.travel, Chief of content Островок, Ценципер. Основал AI Mindset.</p>

                
                
            </div>

            <div class="column">
                <img src="glebkalinin.jpg" alt="glebkalinin" style="max-width: 100%; height: auto;">

                <p class="description" style="margin: 2rem 0 1rem; line-height: 1.7; font-size: 90%">Публикации и подкасты: <a href="https://willbedone.ru/gleb-kalinin-200/">Будет сделано, выпуск 200</a>, <a href="https://style.rbc.ru/soul/68666d4f9a79478f439beca6">«Соблазнительно безопасный»: справляется ли ChatGPT с ролью психотерапевта</a>, <a href="https://www.youtube.com/@glebis">Мой Ютуб</a>.</p>
                <p class="description" style="margin: 0rem 0; line-height: 1.7; font-size: 90%">Location: Berlin, Germany</p>
                <p class="description" style="margin: 0rem 0; line-height: 1.7; font-size: 90%">LinkedIn: <a href="https://www.linkedin.com/in/glebkalinin/">glebkalinin</a></p>
            </div>            


         
        </main>

        <!-- New 3-Column Layout with Russian Text -->
        <section class="three-column-section" id="three-column-section">
            <div class="column">
                <h2 class="column-title">
                    Про что <span class="highlight">лаборатория</span>
                </h2>

            </div>

            <div class="column"> 
                <p class="column-text"><strong>Hard skills:</strong></p>
                <ul>
                    <li>Как работать с современными большими языковыми моделями (GPT-5, Claude, Gemini, открытми GPTOSS) и ИИ-агентами (GPT-5 Agent, Claude code, Codex, Amp, Windsurf, Cursor, Devin, Manus и др.)</li>
                    <li>Промтинг ризонинг-моделей и агентов</li>
                    <li>Контекст-инженерия и работа с данным</li>
                    <li>Вайб-кодинг и создание полноценных прототипов ии-приложений с помощью ИИ-агентов</li>
                    <li style="font-size: 150%">Переводить идеи и&nbsp;проекты в&nbsp;язык спецификаций — английский язык (<em>даже если вы его не знаете</em>)</li>
                </ul>
            </div>



            <div class="column">
                <p class="column-text"><strong>Soft skills:</strong></p>
                <ul>
                    <li>Как справляться с FOMO и&nbsp;бесконечным потоком информации,</li>
                    <li>как вырабатывать толерантность к&nbsp;ошибкам (которые неизбежны),</li>
                    <li>как планировать параллельную работу с&nbsp;агентами и&nbsp;людьми.</li>
                </ul>
            </div>
        </section>


        <!-- New 3-Column Layout with Russian Text -->
        <section class="three-column-section" id="three-column-section">
            <div class="column">
                <h3 class="column-title">
                    Расширяем перспективу: <em> Как жить в мире вместе <span class="highlight">размышляющим</span> агентами?</em>
                </h3>
            </div>

            <div class="column">
                <p class="column-text">
                    На воркшопах, мы не только планируем, изучаем технологии, но и задаём глобальные вопросы о будущем. Как будет выглядеть интернет, коммуникация, что будет значить доверие, когда миллионы автономных агентов будут безостановочно майнить интернет в поисках возможностей и уязвимостей?
                </p>


            </div>



            <div class="column">
                <p class="column-text">
                    Что будет значит автоматизация 80% офисной работы?
                </p>
                <p class="column-text">
                    В чём остаются незаменимые компетенции человека? Какова роль профессионала и генералиста в будущем?
                </p>
            </div>
        </section>
        <div class="section-header animated">
            <span class="highlight">/tools</span>
            <span class="subtitle">инструменты</span>
        </div>

        <section class="features-grid">




            <div class="feature-card" id="feature-1">
                <h3 class="feature-title">Claude code</h3>
                <p class="feature-description">
                    Один из самых популярных ии-агентов для разработки софта, настройки программ, работы с данными от компании Anthropic. Работает локально и в облаке.
                </p>
            </div>

            <div class="feature-card" id="feature-2">
                <h3 class="feature-title">Codex</h3>
                <p class="feature-description">
                    Кодинг-агент OpenAI, конкурент Claude Code. Работает с новейшей моделью GPT-5-Codex, а также в облаке как сервис.
                </p>
            </div>            

            <div class="feature-card" id="feature-1">
                <h3 class="feature-title">Cursor</h3>
                <p class="feature-description">
                    Самый популярный ИИ-агент в форме IDE
                </p>
            </div>              

            <div class="feature-card" id="feature-1">
                <h3 class="feature-title">Windsurf</h3>
                <p class="feature-description">
                    Бюджетный ИИ-агент в форме IDE, пригодный для решения задач, не связанных с разработкой ПО (генерация презентаций, работа с базами знаний)
                </p>
            </div>            

             <div class="feature-card" id="feature-4">
                <h3 class="feature-title">Goose</h3>
                <p class="feature-description">
                    Незасимый general-агент с графическим интерфейсом от Джека Дорси (экс-Твиттер). Умеет работать на вашем компьюетере с открытыми и локальными моделями.
                </p>
            </div>
            
            <div class="feature-card" id="feature-5">
                <h3 class="feature-title">Vercel</h3>
                <p class="feature-description">
                    +Vercel AI SDK. Платформа и инструментарий для разработки и запуска ИИ-приложений.
                </p>
            </div>

            <div class="feature-card" id="feature-5">
                <h3 class="feature-title">GPT Agent</h3>
                <p class="feature-description">
                    Агент OpenAI для сбора информации, исследований, кодинга, подготовки презентаций и мышления, работающий в облаке.
                </p>
            </div>            

            <div class="feature-card" id="feature-5">
                <h3 class="feature-title"><em>…и другие</em></h3>
                <p class="feature-description">
                    список инструментов может быть бесконечно длинным и специфичным: новые инструменты появляются постоянно
                </p>
            </div>
        </section>

        <!-- <div class="section-header animated">
            <span class="highlight">/skills</span>
            <span class="subtitle">навыки</span>
        </div> -->

            <!-- <section class="features-grid">
                <div class="feature-card" id="feature-1">
                    <h3 class="feature-title">Claude code</h3>
                    <p class="feature-description">Мощный general agent — агент общего назначения, работающий на вашем компьютере. Умеет писать код, тестировать и запускать программы и работать с внешними сервисами через API и MCP.</p>
                </div>
                
                <div class="feature-card" id="feature-2">
                    <h3 class="feature-title">Clarity</h3>
                    <p class="feature-description">
                        Empowering them to effectively communicate their ideas through 
                        bold typography and generous spacing.
                    </p>
                </div>
                
                <div class="feature-card" id="feature-3">
                    <h3 class="feature-title">Functionality</h3>
                    <p class="feature-description">
                        Geist truly represents the coding and design spirit within 
                        Vercel's creative community.
                    </p>
                </div>
            </section> -->


        <div class="section-header animated">
            <h2 class="pricing-title highlight">/schedule</h2>
            <span class="subtitle">расписание</span>
        </div>

        <section class="three-column-section" id="">
            <div class="column">
                <h3 class="column-title">
                    Структура <span class="highlight">занятий</span>
                </h3>
            </div>
            <div class="column">
                <p><em style="font-size: 1.4rem;">С 11 ноября 2025</em><br>онлайн<br><small>встречи в Зуме, координация в Телеграме</small></p>
                
            </div>
            <div class="column">
                <p><em>5 недель</em> — достаточно времени, чтобы развить насмотренность и&nbsp;набрать практики в&nbsp;работе с&nbsp;агентами.</p>
                <p>Каждую неделю кейсы, возможность для&nbsp;совместной практики, ответы на&nbsp;вопросы и&nbsp;ии-инструменты, помогающие в&nbsp;учёбе и&nbsp;выборе фокуса</p>
            </div>
            <div class="column"></div>
            <div class="column">
                <p class="description"><strong class="highlight">Среда</strong> 09:00CET*.  Коворкинг. Самостоятельная работа над своими проектами, выполнение заданий, изучение материалов лаборатории. * <em>Возможны дополнительные слоты в другое время.</em></p>
                <p class="description"><strong class="highlight">Четверги</strong> 18:00CET. Практически-теоретические занятия, основная встреча для всех. Рассматриваем кейсы и их реализацию с помощью ИИ-агентов: локальных, облачных, гибридных.</p>
            </div>
            <div class="column">
                <p class="description"><strong class="highlight">Субботы</strong> 10:00CET (с перерывами). Встречи по постановке задач, вопросы и ответы, техподдержка.</p>
                <p class="description"><strong class="highlight">Воскресенья</strong> 10:00CET. Мастер-майнды <em>(только на полном и командном тарифах)</em>.</p>
            </div>
        </section>


        <section class="comparison-section" id="schedule">
            <div class="double-diamond-content">
                <iframe src="https://calendar.google.com/calendar/embed?src=48144699ca422ec84b2f670bea6409cc73463f3b3a448ced83d3d174dce4a939%40group.calendar.google.com&ctz=Europe%2FBerlin" style="border: 0" width="800" height="600" frameborder="0" scrolling="no"></iframe>



        









                <!-- <table class="schedule-table"> 
                    <thead>
                        <tr>
                            <th>Дата</th>
                            <th>Время (CET)</th>
                            <th>Длительность</th>
                            <th>Сессия</th>
                            <th>Описание</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Чт, 9 октября 2025</td>
                            <td>18:00–19:30</td>
                            <td>90 мин</td>
                            <td>Сессия 1 — Вечер знаний</td>
                            <td>Кейсы агентов, техобзор, быстрый прототип</td>
                        </tr>
                        <tr>
                            <td>Сб, 11 октября 2025</td>
                            <td>10:00–11:30</td>
                            <td>90 мин</td>
                            <td>Сессия 2 — Практика целей, Q&A</td>
                            <td>Практика постановки целей, вопросы и ответы</td>
                        </tr>
                        <tr>
                            <td>Каждую среду (с первой недели)</td>
                            <td>09:00</td>
                            <td>3×25 мин</td>
                            <td>Коворкинг</td>
                            <td>Фокусированная работа по таймеру с короткими перерывами. Вы работаете над своими проектами, делаете задания или изучаете материалы лаборатории.</td>
                        </tr>
                    </tbody>
                </table> -->
            </div>
        </section>

        <!-- Pricing Section -->
        <section class="pricing-section">
            <div class="section-header animated">
                <h2 class="pricing-title highlight">/pricing</h2>
                <span class="subtitle">цена</span>
            </div>
            
            <div class="pricing-controls">
                <div class="currency-switch">
                    <button class="currency-btn active" data-currency="eur">€ EUR</button>
                    <button class="currency-btn" data-currency="usd">$ USD</button>
                    <button class="currency-btn" data-currency="rub">₽ RUB</button>
                </div>
                
                <div class="discount-section">
                    <a href="#" class="discount-link" id="discount-link">Ввести код</a>
                    <div class="discount-input-wrapper" id="discount-input-wrapper" style="display: none;">
                        <input type="text" class="discount-input" id="discount-input" placeholder="Введите код">
                        <button class="discount-apply-btn" id="discount-apply-btn">Применить</button>
                        <span class="discount-message" id="discount-message"></span>
                    </div>
                </div>
            </div>

            <div class="pricing-grid">
                <div class="pricing-card" id="pricing-card-1">
                    <h3 class="plan-name">Наблюдатель</h3>
                    <p class="plan-description">Если важна только теория и не нужна поддержка</p>
                    <div class="plan-price">
                        <span class="currency">€</span><span class="price" data-eur="400" data-usd="435" data-rub="40000">400</span><span class="period"></span>
                    </div>
                    <ul class="plan-features">
                        <li>Доступ к записям всех гайдов по использованию агентов для задач работы с информацией и данными, генерации контента в различных форматах, работе с MCP, публикации приложений в вебе</li>
                        <li>Доступ к Custom GPT, помогающий сформулировать проблему и проект, протестировать идеи, изучить варианты технологий для реализации</li>
                        <li>Доступ к NotebookLM с базой документации, технологий и подходов</li>
                        <li>Доступ к материалам: видеоуроки, презентации, промты, примеры проектов, ссылки на внешние ресурсы и гайды (на английском языке)</li>
                        <li>Чат технической поддержки</li>
                    </ul>
                    <a href="https://buy.stripe.com/eVq00k0cK2Mrd3Z8yt7IY04" class="plan-button secondary" title="Оплата картой западного банка через Stripe">Оплатить картой</a>
                </div>

                <div class="pricing-card featured" id="pricing-card-2">
                    <h3 class="plan-name">Участник</h3>
                    <p class="plan-description">Полное погружение</p>
                    <div class="plan-price">
                        <span class="currency">€</span><span class="price" data-eur="1000" data-usd="1090" data-rub="100000">1000</span><span class="period"></span>
                    </div>
                    <ul class="plan-features">
                        <li>Участие в мастер-майндах и групповых сессиях дизайн-мышления</li>
                        <li>Чат технической поддержки</li>
                        <li>Сессии вопросов и ответов</li>
                        <li>Доступ к материалам: видеоуроки, презентации, промты, примеры проектов, ссылки на внешние ресурсы и гайды (на английском языке)</li>
                        <li>Чат с экспертами и другими участниками</li>
                    </ul>
                    <a href="https://buy.stripe.com/00w9AUe3A2Mr3tp3e97IY05" class="plan-button primary">Оплатить картой</a> 
                </div>

                <div class="pricing-card" id="pricing-card-3">
                    <h3 class="plan-name">Командный</h3>
                    <p class="plan-description">Для группы до 5 человек</p>
                    <div class="plan-price">
                        <span class="currency">€</span><span class="price" data-eur="2500" data-usd="2700" data-rub="245000">2500</span><span class="period"></span>
                    </div>
                    <ul class="plan-features">
                        <li>Отдельный чат с вашей группой</li>
                        <li>4 отдельных 45-минутных консультации для вашей команды</li>
                        <li>Помощь в постановке задач, подборе технологий, проведении ии-исследований</li>
                        <li>Доступ к материалам: видеоуроки, презентации, ссылки</li>
                        <li>Команды, участвовашие в моих лабораториях,  окупают инвестиции времени и денег в технологии в течение 1 месяца</li>
                    </ul>
                    <a href="https://t.me/m/Huow25QQZmYy" class="plan-button secondary">Написать Глебу в Телеграм</a>
                </div>
            </div>

            <p class="description">Оплата возможна в рублях (счёт и акт выставит самозанятый в РФ, предоставим чек), через Paypal,  по IBAN в немецком банке, через Stripe (по ссылкам выше), через USDT и другие криптовалюты. <br> Для компаний выставим инвойс от европейского ИП (selbständig) с оплатой по IBAN. Чтобы оплатить от компании, пришлите карточку компании <a href="https://t.me/m/Huow25QQZmYy">Глебу в Телеграм</a>.</p>
        </section>

        <!-- FAQ Section -->
        <section class="faq-section" id="faq-section">
            <h2 class="pricing-title">Часто задаваемые вопросы</h2>
            
            <div class="faq-container">
                <div class="faq-item">
                    <div class="faq-question">
                        <h3>Можно ли оплатить от компании?</h3>
                        <span class="faq-toggle">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>Можем выставить счёт от самозанятого в РФ, инвойс от европейского ИП (selbständig). Для выставления счёта пришлите, пожалуйста, ваши реквизиты <a href="https://t.me/m/Huow25QQZmYy">Глебу в Телеграм</a>.</p>
                    </div>
                </div>
                
                <div class="faq-item">
                    <div class="faq-question">
                        <h3>Требуются ли навыки разработки?</h3>
                        <span class="faq-toggle">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>Лаборатория подойдет как людям с опытом разработки, так и новичкам. Мы подробно рассказываем, как пользоваться инструментами, и для большинства задач показываем, как использовать инструменты без кода (такие как артефакты Claude, Custom GPT, NotebookLM, GPT Agent и просто продвинутые LLM). </p>
                    </div>
                </div>
                
                <div class="faq-item">
                    <div class="faq-question">
                        <h3>Как проходят занятия?</h3>
                        <span class="faq-toggle">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>Занятия проходят онлайн в формате живых сессий с демонстрацией экрана. Все материалы и записи доступны участникам в личном кабинете. Теория и практические задания разделены — короткие теоретические и практические задания доступны после каждой сессии.</p>
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question">
                        <h3>Какие потребуются подписки</h3>
                        <span class="faq-toggle">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>Вам потребуются доступ к платному тарифу Claude (Pro, Max) code (входит в подписку Claude Plus, Max) или Codex (входит в подписку ChatGPT Plus, Pro). Для работы с территории РФ потребуется VPN. </p>
                    </div>
                </div>                

                <div class="faq-item">
                    <div class="faq-question">
                        <h3>Сколько времени нужно уделять обучению?</h3>
                        <span class="faq-toggle">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>Рекомендуется выделять 3-5 часов в неделю для изучения материалов и выполнения практических заданий. Однако темп обучения вы выбираете сами.</p>
                    </div>
                </div>
                
                <div class="faq-item">
                    <div class="faq-question">
                        <h3>Есть ли возможность получить индивидуальную консультацию?</h3>
                        <span class="faq-toggle">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>Да, в тарифе Участник" предусмотрены персональные консультации для обсуждения ваших конкретных задач и проектов.</p>
                    </div>
                </div>
                
                <div class="faq-item">
                    <div class="faq-question">
                        <h3>Какие инструменты будут изучаться?</h3>
                        <span class="faq-toggle">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>В программе рассматриваются современные инструменты для работы с ИИ-агентами, включая Claude code, OpenAI codex-cli, Cursor, Goose, n8n и другие передовые технологии.</p>
                    </div>
                </div>
                
                <div class="faq-item">
                    <div class="faq-question">
                        <h3>Будут ли практические задания?</h3>
                        <span class="faq-toggle">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>Да, курс включает практические задания для закрепления навыков работы с агентами и создания собственных решений на основе изученных технологий.</p>
                    </div>
                </div>
                
                <div class="faq-item">
                    <div class="faq-question">
                        <h3>Можно ли получить доступ к материалам после окончания курса?</h3>
                        <span class="faq-toggle">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>Да, все участники получают пожизненный доступ к материалам курса — вы получите полный архив markdown-файлов с транскриптами, подборками инструментов и практическими заданиями. Видео хостятся на Ютубе и Яндекс.Диске по закрытой ссылке, ссылки сохранятся в markdown-файлах, срок хранения не ограничен.</p>
                    </div>
                </div>
                
                <div class="faq-item">
                    <div class="faq-question">
                        <h3>Есть ли возможность вернуть деньги, если курс не подойдет?</h3>
                        <span class="faq-toggle">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>Да, в течение первой недели обучения вы можете отказаться от участия и получить полный возврат средств без вопросов.</p>
                    </div>
                </div>
            </div>



        </section>

        <!-- Footer Section -->
        <footer class="footer-section" id="footer-section">
            <div class="footer-column">
                <p>AGENCY &copy; Gleb Kalinin, 2025.<br>Made in Berlin. <a href="https://glebkalinin.de/impressum/">Impressum</a>. <a href="/oferta.html">Договор-оферта</a></p>
            </div>
            
            <div class="footer-column">
                <p>Вопросы? Напишите <a href="https://t.me/m/Huow25QQZmYy" class="footer-link">в Telegram</a>, 
                <a href="https://wa.me/4917685278763" class="footer-link">Whatsapp</a>.</p>
            </div>
            
            <div class="footer-column">
                <ul class="footer-links">
                    <li><a href="https://www.linkedin.com/in/glebkalinin/" class="footer-link">LinkedIn</a></li>
                    <li><a href="https://t.me/m/Huow25QQZmYy" class="footer-link">Tool Building Ape</a></li>
                </ul>
            </div>
        </footer>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/2.0.2/anime.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Enhanced progress bar scroll animation with Framer Motion
            const progressBar = document.getElementById('progress-bar');
            let lastScrollPercentage = 0;
            
            function updateProgressBar() {
                const scrollTop = window.scrollY;
                const scrollHeight = document.documentElement.scrollHeight - window.innerHeight;
                const scrollPercentage = Math.max(0, Math.min(100, (scrollTop / scrollHeight) * 100));
                
                // Only animate if there's a significant change
                if (Math.abs(scrollPercentage - lastScrollPercentage) > 0.5) {
                    progressBar.style.width = `${scrollPercentage}%`;
                    
                    // Add pulse effect when reaching certain milestones
                    if (scrollPercentage >= 25 && lastScrollPercentage < 25 ||
                        scrollPercentage >= 50 && lastScrollPercentage < 50 ||
                        scrollPercentage >= 75 && lastScrollPercentage < 75 ||
                        scrollPercentage >= 100 && lastScrollPercentage < 100) {
                        
                        progressBar.animate([
                            { height: '5px', opacity: 0.9 },
                            { height: '8px', opacity: 1 },
                            { height: '5px', opacity: 0.9 }
                        ], {
                            duration: 300,
                            easing: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)'
                        });
                    }
                    
                    lastScrollPercentage = scrollPercentage;
                }
            }
            
            // Initial call to set progress bar
            updateProgressBar();
            
            // Hero text moving letters effect (Tobias Ahlin #11) applied to each .hero-word
            const heroText = document.getElementById('hero-text');
            const heroWords = document.querySelectorAll('#hero-text .hero-word');
            const animatedHeroWords = Array.from(heroWords).filter(wordEl => !wordEl.hasAttribute('data-skip-letters'));
            let activateHighlightTyping;

            // Prepare each word with the .ml11 structure
            animatedHeroWords.forEach((wordEl) => {
                const original = wordEl.textContent;
                wordEl.classList.add('ml11');
                wordEl.innerHTML = `
                    <span class="text-wrapper">
                        <span class="line line1"></span>
                        <span class="letters">${original}</span>
                    </span>
                `;
                const lettersEl = wordEl.querySelector('.letters');
                lettersEl.innerHTML = lettersEl.textContent.replace(/([^\x00-\x80]|\w)/g, "<span class='letter'>$&</span>");
            });

            const highlightRotator = document.querySelector('#hero-text .highlight-rotator');
            const highlightCursor = document.querySelector('#hero-text .highlight-cursor');

            if (highlightRotator && highlightCursor) {
                const highlightWords = [
                    'продактов',
                    'дизайнеров',
                    'исследователей',
                    'фронтэндеров',
                    'ux-дизайнеров',
                    'бэкэндеров',
                    'юристов',
                    'писателей',
                    'мыслителей',
                    'сейлзов',
                    'художников',
                    'маркетологов',
                    'аналитиков',
                    'инженеров',
                    'тренеров'
                ];
                let highlightIndex = 0;
                let typingTimeoutId;
                let typingStarted = false;
                const typingDuration = 1000;
                const pauseDuration = 800;
                const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)');

                highlightRotator.textContent = '';

                const clearTypingTimeout = () => {
                    if (typingTimeoutId) {
                        window.clearTimeout(typingTimeoutId);
                        typingTimeoutId = null;
                    }
                };

                const runTypingCycle = () => {
                    clearTypingTimeout();
                    const currentWord = highlightWords[highlightIndex];
                    const characters = Array.from(currentWord);
                    const stepDuration = Math.max(typingDuration / Math.max(characters.length, 1), 35);
                    let charIndex = 0;

                    highlightCursor.classList.add('is-typing');
                    highlightRotator.textContent = '';

                    const typeChar = () => {
                        highlightRotator.textContent += characters[charIndex];
                        charIndex += 1;

                        if (charIndex < characters.length) {
                            typingTimeoutId = window.setTimeout(typeChar, stepDuration);
                        } else {
                            highlightCursor.classList.remove('is-typing');
                            typingTimeoutId = window.setTimeout(() => {
                                highlightIndex = (highlightIndex + 1) % highlightWords.length;
                                runTypingCycle();
                            }, pauseDuration);
                        }
                    };

                    typeChar();
                };

                const startTyping = () => {
                    clearTypingTimeout();
                    highlightCursor.classList.remove('is-typing');
                    if (prefersReducedMotion.matches) {
                        highlightRotator.textContent = highlightWords[highlightIndex];
                        typingTimeoutId = window.setTimeout(() => {
                            highlightIndex = (highlightIndex + 1) % highlightWords.length;
                            startTyping();
                        }, typingDuration + pauseDuration);
                        return;
                    }

                    highlightRotator.textContent = '';
                    typingTimeoutId = window.setTimeout(runTypingCycle, pauseDuration);
                };

                activateHighlightTyping = () => {
                    if (typingStarted) return;
                    typingStarted = true;
                    startTyping();
                };

                prefersReducedMotion.addEventListener('change', () => {
                    if (!typingStarted) return;
                    startTyping();
                });
            }

            // Animate when the hero section enters the viewport
            if (heroText) {
                const heroObserver = new IntersectionObserver(entries => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            let timelinePromise = Promise.resolve();

                            if (typeof anime !== 'undefined' && animatedHeroWords.length) {
                                // Single master timeline for sequential word animations (3x faster, one cycle)
                                const master = anime.timeline({ loop: false, autoplay: true });

                                animatedHeroWords.forEach((wordEl) => {
                                    const lettersWidth = wordEl.querySelector('.letters').getBoundingClientRect().width;

                                    master
                                        .add({
                                            targets: wordEl.querySelectorAll('.line'),
                                            scaleY: [0, 1],
                                            opacity: [0.5, 1],
                                            easing: 'easeOutExpo',
                                            duration: 233
                                        })
                                        .add({
                                            targets: wordEl.querySelectorAll('.line'),
                                            translateX: [0, lettersWidth + 10],
                                            easing: 'easeOutExpo',
                                            duration: 233,
                                            delay: 33
                                        })
                                        .add({
                                            targets: wordEl.querySelectorAll('.letter'),
                                            opacity: [0, 1],
                                            easing: 'easeOutExpo',
                                            duration: 200,
                                            offset: '-=258',
                                            delay: (el, i) => 11 * (i + 1)
                                        });
                                });

                                timelinePromise = master.finished || Promise.resolve();
                            }

                            timelinePromise
                                .catch(() => {})
                                .then(() => {
                                    if (typeof activateHighlightTyping === 'function') {
                                        window.setTimeout(() => activateHighlightTyping(), 250);
                                    }
                                });

                            // Stop observing after triggering the animations
                            heroObserver.unobserve(entry.target);
                        }
                    });
                }, { threshold: 0.3 });

                heroObserver.observe(heroText);
            } else if (typeof activateHighlightTyping === 'function') {
                window.setTimeout(() => activateHighlightTyping(), 250);
            }
            
            // Update progress bar on scroll
            window.addEventListener('scroll', updateProgressBar);
            
            // Theme toggle functionality
            const themeToggle = document.getElementById('theme-toggle');
            const htmlElement = document.documentElement;
            const themeToggleIcon = document.querySelector('.theme-toggle-icon');
            
            // Check for OS preference
            const prefersDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches;
            
            // Set initial theme based on OS preference
            if (prefersDarkMode) {
                htmlElement.classList.remove('light');
                htmlElement.classList.add('dark');
                themeToggleIcon.textContent = '🌙';
            } else {
                htmlElement.classList.remove('dark');
                htmlElement.classList.add('light');
                themeToggleIcon.textContent = '☀️';
            }
            
            // Enhanced theme toggle with Framer Motion animations
            themeToggle.addEventListener('click', () => {
                const isDark = htmlElement.classList.contains('dark');
                const themeToggleThumb = document.querySelector('.theme-toggle-thumb');
                
                // Animate the toggle switch
                themeToggle.animate([
                    { transform: 'scale(1) rotate(0deg)' },
                    { transform: 'scale(0.95) rotate(5deg)' },
                    { transform: 'scale(1) rotate(0deg)' }
                ], { 
                    duration: 300, 
                    easing: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)'
                });
                
                // Animate the thumb movement and icon change
                if (isDark) {
                    // Switching to light mode
                    htmlElement.classList.remove('dark');
                    htmlElement.classList.add('light');
                    localStorage.setItem('theme', 'light');
                    
                    // Animate thumb back to left
                    themeToggleThumb.animate([
                        { transform: 'translateX(24px) rotate(180deg) scale(0.8)' },
                        { transform: 'translateX(12px) rotate(90deg) scale(1.1)' },
                        { transform: 'translateX(0px) rotate(0deg) scale(1)' }
                    ], { 
                        duration: 400, 
                        easing: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)',
                        fill: 'forwards'
                    }).addEventListener('finish', () => {
                        themeToggleIcon.textContent = '☀️';
                    });
                    
                    // Animate icon morph
                    themeToggleIcon.animate([
                        { transform: 'rotateY(0deg) scale(1)' },
                        { transform: 'rotateY(90deg) scale(0.8)' },
                        { transform: 'rotateY(0deg) scale(1)' }
                    ], { 
                        duration: 400, 
                        easing: 'ease-in-out'
                    });
                    
                } else {
                    // Switching to dark mode
                    htmlElement.classList.remove('light');
                    htmlElement.classList.add('dark');
                    localStorage.setItem('theme', 'dark');
                    
                    // Animate thumb to right
                    themeToggleThumb.animate([
                        { transform: 'translateX(0px) rotate(0deg) scale(0.8)' },
                        { transform: 'translateX(12px) rotate(90deg) scale(1.1)' },
                        { transform: 'translateX(24px) rotate(180deg) scale(1)' }
                    ], { 
                        duration: 400, 
                        easing: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)',
                        fill: 'forwards'
                    }).addEventListener('finish', () => {
                        themeToggleIcon.textContent = '🌙';
                    });
                    
                    // Animate icon morph
                    themeToggleIcon.animate([
                        { transform: 'rotateY(0deg) scale(1)' },
                        { transform: 'rotateY(-90deg) scale(0.8)' },
                        { transform: 'rotateY(0deg) scale(1)' }
                    ], { 
                        duration: 400, 
                        easing: 'ease-in-out'
                    });
                }
                
                // Add a subtle page flash effect
                document.body.animate([
                    { opacity: 1 },
                    { opacity: 0.98 },
                    { opacity: 1 }
                ], { 
                    duration: 150
                });
            });
            
            // Check for saved theme preference
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme) {
                if (savedTheme === 'dark') {
                    htmlElement.classList.remove('light');
                    htmlElement.classList.add('dark');
                    themeToggleIcon.textContent = '🌙';
                } else {
                    htmlElement.classList.remove('dark');
                    htmlElement.classList.add('light');
                    themeToggleIcon.textContent = '☀️';
                }
            }
            
            // Enhanced scroll animations with Framer Motion
            const motionObserver = new IntersectionObserver(entries => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const element = entry.target;
                        let delay = 0;
                        let animationType = 'fadeInUp';
                        let motionConfig = {
                            opacity: [0, 1],
                            y: [20, 0]
                        };
                        
                        // Determine animation type and delay based on element
                        if (element.classList.contains('header')) {
                            animationType = 'fadeInDown';
                            motionConfig = {
                                opacity: [0, 1],
                                y: [-20, 0],
                                scale: [0.95, 1]
                            };
                        } else if (element.classList.contains('feature-card')) {
                            const index = Array.from(element.parentNode.children).indexOf(element);
                            delay = index * 100;
                            motionConfig = {
                                opacity: [0, 1],
                                y: [30, 0],
                                scale: [0.95, 1],
                                rotateX: [-5, 0]
                            };
                        } else if (element.classList.contains('pricing-card')) {
                            const index = Array.from(element.parentNode.children).indexOf(element);
                            delay = index * 150;
                            motionConfig = {
                                opacity: [0, 1],
                                y: [40, 0],
                                scale: [0.9, 1],
                                rotateY: index % 2 === 0 ? [-10, 0] : [10, 0]
                            };
                        } else if (element.classList.contains('faq-item')) {
                            const siblings = Array.from(element.parentNode.children).filter(el => 
                                el.classList.contains('faq-item'));
                            const index = siblings.indexOf(element);
                            delay = index * 100;
                            motionConfig = {
                                opacity: [0, 1],
                                x: [-20, 0],
                                scale: [0.98, 1]
                            };
                        } else if (element.classList.contains('comparison-item')) {
                            const siblings = Array.from(element.parentNode.children).filter(el => 
                                el.classList.contains('comparison-item'));
                            const index = siblings.indexOf(element);
                            delay = index * 100;
                            
                            if (element.closest('.before-column')) {
                                motionConfig = {
                                    opacity: [0, 1],
                                    x: [-30, 0],
                                    rotateY: [15, 0]
                                };
                            } else if (element.closest('.after-column')) {
                                motionConfig = {
                                    opacity: [0, 1],
                                    x: [30, 0],
                                    rotateY: [-15, 0]
                                };
                            }
                        } else if (element.classList.contains('three-column-section')) {
                            motionConfig = {
                                opacity: [0, 1],
                                y: [50, 0],
                                scale: [0.95, 1]
                            };
                        } else if (element.classList.contains('content-section') || element.classList.contains('visual-section')) {
                            motionConfig = {
                                opacity: [0, 1],
                                y: [30, 0],
                                x: element.classList.contains('content-section') ? [-20, 0] : [20, 0]
                            };
                        }
                        
                        // Apply Web Animations API
                        setTimeout(() => {
                            const keyframes = [];
                            
                            // Build keyframes from motionConfig
                            if (motionConfig.opacity) {
                                keyframes.push({ opacity: motionConfig.opacity[0] });
                                keyframes.push({ opacity: motionConfig.opacity[1] });
                            }
                            
                            // Build transform string
                            let transformStart = '';
                            let transformEnd = '';
                            
                            if (motionConfig.y) {
                                transformStart += `translateY(${motionConfig.y[0]}px) `;
                                transformEnd += `translateY(${motionConfig.y[1]}px) `;
                            }
                            if (motionConfig.x) {
                                transformStart += `translateX(${motionConfig.x[0]}px) `;
                                transformEnd += `translateX(${motionConfig.x[1]}px) `;
                            }
                            if (motionConfig.scale) {
                                transformStart += `scale(${motionConfig.scale[0]}) `;
                                transformEnd += `scale(${motionConfig.scale[1]}) `;
                            }
                            if (motionConfig.rotateX) {
                                transformStart += `rotateX(${motionConfig.rotateX[0]}deg) `;
                                transformEnd += `rotateX(${motionConfig.rotateX[1]}deg) `;
                            }
                            if (motionConfig.rotateY) {
                                transformStart += `rotateY(${motionConfig.rotateY[0]}deg) `;
                                transformEnd += `rotateY(${motionConfig.rotateY[1]}deg) `;
                            }
                            
                            keyframes[0] = { ...keyframes[0], transform: transformStart.trim() };
                            keyframes[1] = { ...keyframes[1], transform: transformEnd.trim() };
                            
                            element.animate(keyframes, {
                                duration: 600,
                                easing: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)',
                                fill: 'forwards'
                            });
                        }, delay);
                        
                        // Stop observing this element
                        motionObserver.unobserve(element);
                    }
                });
            }, { 
                threshold: 0.1,
                rootMargin: "0px 0px -50px 0px" 
            });
            
            // Select all elements that need Framer Motion animations
            const animatedElements = document.querySelectorAll(
                '.header, .content-section, .visual-section, .font-sample, ' +
                '.three-column-section, .feature-card, .stat, ' +
                '.section-header, .pricing-card, .footer-section, .faq-section, .faq-item, ' +
                '.comparison-item, .double-diamond-section'
            );
            
            // Observe all animated elements with the new motion observer
            animatedElements.forEach(element => {
                motionObserver.observe(element);
            });
            
            // Currency Switching functionality with Framer Motion animations
            const currencyButtons = document.querySelectorAll('.currency-btn');
            const priceElements = document.querySelectorAll('.price');
            // Cache plan buttons to toggle Stripe/Telegram depending on currency
            const planButtons = document.querySelectorAll('.pricing-card .plan-button');
            
            // Discount variables (declared here to be accessible by both currency and discount code)
            let currentDiscount = 0;
            let appliedDiscountCode = null;
            // Store original states for restoration when switching back from RUB
            planButtons.forEach(btn => {
                if (!btn.dataset.originalHref) {
                    btn.dataset.originalHref = btn.getAttribute('href') || '';
                }
                if (!btn.dataset.originalText) {
                    btn.dataset.originalText = (btn.textContent || '').trim();
                }
                if (!btn.dataset.originalTitle) {
                    btn.dataset.originalTitle = btn.getAttribute('title') || '';
                }
            });
            const currencySymbols = {
                'eur': '€',
                'usd': '$',
                'rub': '₽'
            };
            
            currencyButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const currency = button.getAttribute('data-currency');
                    
                    // Update active button with animation
                    currencyButtons.forEach(btn => {
                        btn.classList.remove('active');
                        // Animate button scale
                        btn.animate([
                            { transform: 'scale(1)' },
                            { transform: 'scale(0.95)' },
                            { transform: 'scale(1)' }
                        ], { duration: 200, easing: 'ease-out' });
                    });
                    button.classList.add('active');
                    button.animate([
                        { transform: 'scale(1)' },
                        { transform: 'scale(1.05)' },
                        { transform: 'scale(1)' }
                    ], { duration: 300, easing: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)' });
                    
                    // Update prices and currency symbols with animations
                    priceElements.forEach(priceEl => {
                        const currentPrice = priceEl.textContent;
                        const originalPrice = parseFloat(priceEl.getAttribute(`data-${currency}`));
                        const discountedPrice = Math.round(originalPrice * (1 - currentDiscount));
                        const newPrice = discountedPrice.toString();
                        
                        // Animate price change
                        priceEl.animate([
                            { transform: 'scale(1)', opacity: 1 },
                            { transform: 'scale(1.1)', opacity: 0.7 },
                            { transform: 'scale(1)', opacity: 1 }
                        ], { 
                            duration: 400,
                            easing: 'ease-in-out'
                        });
                        
                        // Animate number counting effect
                        const startNum = parseInt(currentPrice.replace(/[^\d]/g, ''));
                        const endNum = discountedPrice;
                        const duration = 500;
                        const startTime = Date.now();
                        
                        const animateNumber = () => {
                            const elapsed = Date.now() - startTime;
                            const progress = Math.min(elapsed / duration, 1);
                            const eased = 1 - Math.pow(1 - progress, 3); // easeOut cubic
                            const currentNum = Math.round(startNum + (endNum - startNum) * eased);
                            
                            if (progress < 1) {
                                priceEl.textContent = currentNum.toString();
                                requestAnimationFrame(animateNumber);
                            } else {
                                priceEl.textContent = newPrice;
                            }
                        };
                        
                        setTimeout(() => animateNumber(), 100);
                        
                        // Update currency symbol with animation
                        const currencyEl = priceEl.previousElementSibling;
                        if (currencyEl && currencyEl.classList.contains('currency')) {
                            currencyEl.animate([
                                { transform: 'rotateY(0deg) scale(1)' },
                                { transform: 'rotateY(90deg) scale(0.8)' },
                                { transform: 'rotateY(0deg) scale(1)' }
                            ], { 
                                duration: 500,
                                easing: 'ease-in-out'
                            }).addEventListener('finish', () => {
                                currencyEl.textContent = currencySymbols[currency];
                            });
                        }
                    });

                    // Update plan buttons based on selected currency
                    planButtons.forEach(btn => {
                        if (currency === 'rub') {
                            // Card payment unavailable: switch to Telegram contact
                            btn.setAttribute('href', 'https://t.me/m/Huow25QQZmYy');
                            btn.textContent = 'Написать Глебу в Телеграм';
                            btn.setAttribute('title', 'Оплата картой недоступна. Напишите Глебу в Телеграм');
                            btn.setAttribute('target', '_blank');
                            btn.setAttribute('rel', 'noopener noreferrer');
                        } else {
                            // Restore original Stripe (or original) state
                            if (btn.dataset.originalHref) {
                                btn.setAttribute('href', btn.dataset.originalHref);
                            }
                            if (btn.dataset.originalText) {
                                btn.textContent = btn.dataset.originalText;
                            }
                            // Restore title if it originally existed; otherwise remove to avoid stale hint
                            if (btn.dataset.originalTitle && btn.dataset.originalTitle.length > 0) {
                                btn.setAttribute('title', btn.dataset.originalTitle);
                            } else {
                                btn.removeAttribute('title');
                            }
                            btn.removeAttribute('target');
                            btn.removeAttribute('rel');
                        }
                    });
                });
            });
            
            // Discount Code functionality
            const discountCodes = {
                'ShowmeyourGPT': 0.15,  // 15% discount
                'SMITH10': 0.10         // 10% discount
            };
            
            const discountLink = document.getElementById('discount-link');
            const discountInputWrapper = document.getElementById('discount-input-wrapper');
            const discountInput = document.getElementById('discount-input');
            const discountApplyBtn = document.getElementById('discount-apply-btn');
            const discountMessage = document.getElementById('discount-message');
            
            // Toggle discount input field
            discountLink.addEventListener('click', (e) => {
                e.preventDefault();
                if (discountInputWrapper.style.display === 'none') {
                    discountInputWrapper.style.display = 'flex';
                    discountLink.style.display = 'none';
                    discountInput.focus();
                }
            });
            
            // Apply discount code
            function applyDiscount() {
                const code = discountInput.value.trim();
                
                if (!code) {
                    showDiscountMessage('Введите код', 'error');
                    return;
                }
                
                if (discountCodes.hasOwnProperty(code)) {
                    currentDiscount = discountCodes[code];
                    appliedDiscountCode = code;
                    const discountPercent = Math.round(currentDiscount * 100);
                    showDiscountMessage(`Скидка ${discountPercent}% применена!`, 'success');
                    updateAllPrices();
                    
                    // Hide input, show link with applied discount
                    setTimeout(() => {
                        discountInputWrapper.style.display = 'none';
                        discountLink.textContent = `Код: ${code} (-${discountPercent}%)`;
                        discountLink.style.display = 'inline';
                    }, 1500);
                } else {
                    showDiscountMessage('Неверный код', 'error');
                    currentDiscount = 0;
                    appliedDiscountCode = null;
                }
            }
            
            function showDiscountMessage(text, type) {
                discountMessage.textContent = text;
                discountMessage.className = `discount-message ${type}`;
                
                if (type === 'error') {
                    setTimeout(() => {
                        discountMessage.textContent = '';
                    }, 3000);
                }
            }
            
            function updateAllPrices() {
                const activeCurrency = document.querySelector('.currency-btn.active').getAttribute('data-currency');
                
                priceElements.forEach(priceEl => {
                    const originalPrice = parseFloat(priceEl.getAttribute(`data-${activeCurrency}`));
                    const discountedPrice = Math.round(originalPrice * (1 - currentDiscount));
                    
                    // Animate price change
                    priceEl.animate([
                        { transform: 'scale(1)', opacity: 1 },
                        { transform: 'scale(1.1)', opacity: 0.7 },
                        { transform: 'scale(1)', opacity: 1 }
                    ], { 
                        duration: 400,
                        easing: 'ease-in-out'
                    });
                    
                    // Animate number counting effect
                    const startNum = parseInt(priceEl.textContent.replace(/[^\d]/g, ''));
                    const endNum = discountedPrice;
                    const duration = 500;
                    const startTime = Date.now();
                    
                    const animateNumber = () => {
                        const elapsed = Date.now() - startTime;
                        const progress = Math.min(elapsed / duration, 1);
                        const eased = 1 - Math.pow(1 - progress, 3); // easeOut cubic
                        const currentNum = Math.round(startNum + (endNum - startNum) * eased);
                        
                        if (progress < 1) {
                            priceEl.textContent = currentNum.toString();
                            requestAnimationFrame(animateNumber);
                        } else {
                            priceEl.textContent = discountedPrice.toString();
                        }
                    };
                    
                    setTimeout(() => animateNumber(), 100);
                });
            }
            
            discountApplyBtn.addEventListener('click', applyDiscount);
            discountInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    applyDiscount();
                }
            });
            
            // Sticky section headers control
            const sections = document.querySelectorAll('.features-grid, .comparison-section, .pricing-section');
            
            // Function to check which section is currently in view
            function updateStickyHeaders() {
                const scrollPosition = window.scrollY;
                
                sections.forEach((section) => {
                    const sectionTop = section.offsetTop - 50; // Offset for better transition
                    const sectionBottom = sectionTop + section.offsetHeight;
                    const sectionHeader = section.querySelector('.section-header');
                    
                    // Check if we're currently scrolling through this section
                    if (scrollPosition >= sectionTop && scrollPosition < sectionBottom) {
                        // This section is active, make its header sticky
                        if (sectionHeader) {
                            sectionHeader.classList.add('active');
                        }
                    } else {
                        // This section is not active
                        if (sectionHeader) {
                            sectionHeader.classList.remove('active');
                        }
                    }
                });
            }
            
            // Add scroll event listener
            window.addEventListener('scroll', updateStickyHeaders);
            
            // Initial call to set correct state on page load
            updateStickyHeaders();
            
            // Enhanced button interactions with Framer Motion
            const buttons = document.querySelectorAll('.cta-button, .plan-button, .currency-btn');
            
            buttons.forEach(button => {
                button.addEventListener('mouseenter', () => {
                    button.animate([
                        { transform: 'translateY(0) scale(1)' },
                        { transform: 'translateY(-2px) scale(1.02)' }
                    ], { 
                        duration: 300, 
                        easing: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)',
                        fill: 'forwards'
                    });
                });
                
                button.addEventListener('mouseleave', () => {
                    button.animate([
                        { transform: 'translateY(-2px) scale(1.02)' },
                        { transform: 'translateY(0) scale(1)' }
                    ], { 
                        duration: 300, 
                        easing: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)',
                        fill: 'forwards'
                    });
                });
                
                button.addEventListener('mousedown', () => {
                    button.animate([
                        { transform: 'translateY(-2px) scale(1.02)' },
                        { transform: 'translateY(-2px) scale(0.98)' }
                    ], { 
                        duration: 100, 
                        easing: 'ease-out',
                        fill: 'forwards'
                    });
                });
                
                button.addEventListener('mouseup', () => {
                    button.animate([
                        { transform: 'translateY(-2px) scale(0.98)' },
                        { transform: 'translateY(-2px) scale(1.02)' }
                    ], { 
                        duration: 200, 
                        easing: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)',
                        fill: 'forwards'
                    });
                });
            });
            
            // Card magnetic hover effects
            const cards = document.querySelectorAll('.feature-card, .pricing-card, .font-sample, .comparison-item');
            
            cards.forEach(card => {
                card.style.perspective = '1000px';
                
                card.addEventListener('mouseenter', (e) => {
                    card.animate([
                        { transform: 'translateY(0) scale(1) rotateX(0deg) rotateY(0deg)' },
                        { transform: 'translateY(-8px) scale(1.02) rotateX(2deg) rotateY(2deg)' }
                    ], { 
                        duration: 400, 
                        easing: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)',
                        fill: 'forwards'
                    });
                });
                
                card.addEventListener('mousemove', (e) => {
                    const rect = card.getBoundingClientRect();
                    const x = e.clientX - rect.left;
                    const y = e.clientY - rect.top;
                    const centerX = rect.width / 2;
                    const centerY = rect.height / 2;
                    
                    const rotateX = (y - centerY) / centerY * -10;
                    const rotateY = (x - centerX) / centerX * 10;
                    
                    card.style.transform = `translateY(-8px) scale(1.02) rotateX(${rotateX}deg) rotateY(${rotateY}deg)`;
                });
                
                card.addEventListener('mouseleave', () => {
                    card.animate([
                        { transform: card.style.transform || 'translateY(-8px) scale(1.02) rotateX(0deg) rotateY(0deg)' },
                        { transform: 'translateY(0) scale(1) rotateX(0deg) rotateY(0deg)' }
                    ], { 
                        duration: 500, 
                        easing: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)',
                        fill: 'forwards'
                    });
                });
            });
            
            // Enhanced FAQ Accordion functionality with Framer Motion
            const faqItems = document.querySelectorAll('.faq-item');
            
            faqItems.forEach(item => {
                const question = item.querySelector('.faq-question');
                const answer = item.querySelector('.faq-answer');
                const toggle = item.querySelector('.faq-toggle');
                
                question.addEventListener('click', () => {
                    const isCurrentlyActive = item.classList.contains('active');
                    
                    // Close all other items with animation
                    faqItems.forEach(otherItem => {
                        if (otherItem !== item && otherItem.classList.contains('active')) {
                            const otherAnswer = otherItem.querySelector('.faq-answer');
                            const otherToggle = otherItem.querySelector('.faq-toggle');
                            
                            otherItem.classList.remove('active');
                            
                            // Animate other items closed
                            otherAnswer.animate([
                                { height: otherAnswer.scrollHeight + 'px', opacity: 1 },
                                { height: '0px', opacity: 0 }
                            ], { duration: 300, easing: 'ease-in-out', fill: 'forwards' });
                            
                            otherToggle.animate([
                                { transform: 'rotate(45deg)' },
                                   { transform: 'rotate(0deg)' }
                            ], { duration: 300, easing: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)', fill: 'forwards' });
                            
                            otherItem.animate([
                                { borderColor: 'var(--accent)' },
                                { borderColor: '#333' }
                            ], { duration: 300, fill: 'forwards' });
                        }
                    });
                    
                    // Toggle current item with enhanced animations
                    item.classList.toggle('active');
                    
                    if (!isCurrentlyActive) {
                        // Opening animation
                        const targetHeight = answer.scrollHeight;
                        
                        const openAnim = answer.animate([
                            { height: '0px', opacity: 0 },
                            { height: targetHeight + 'px', opacity: 1 }
                        ], { 
                            duration: 400, 
                            easing: 'ease-out',
                            fill: 'forwards'
                        });
                        openAnim.addEventListener('finish', () => {
                            // Set to auto after animation so content can resize naturally
                            answer.style.height = 'auto';
                        });
                        
                        toggle.animate([
                            { transform: 'rotate(0deg)' },
                            { transform: 'rotate(45deg)' }
                        ], { duration: 300, easing: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)', fill: 'forwards' });
                        
                        item.animate([
                            { borderColor: '#333', transform: 'scale(1)' },
                            { borderColor: 'var(--accent)', transform: 'scale(1.01)' },
                            { borderColor: 'var(--accent)', transform: 'scale(1)' }
                        ], { duration: 400, easing: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)', fill: 'forwards' });
                        
                    } else {
                        // Closing animation
                        // If currently set to auto, fix it to the current pixel height first for smooth collapse
                        if (answer.style.height === 'auto') {
                            answer.style.height = answer.scrollHeight + 'px';
                        }
                        const closeAnim = answer.animate([
                            { height: answer.scrollHeight + 'px', opacity: 1 },
                            { height: '0px', opacity: 0 }
                        ], { 
                            duration: 300, 
                            easing: 'ease-in',
                            fill: 'forwards'
                        });
                        closeAnim.addEventListener('finish', () => {
                            answer.style.height = '0px';
                        });
                        
                        toggle.animate([
                            { transform: 'rotate(45deg)' },
                            { transform: 'rotate(0deg)' }
                        ], { duration: 300, easing: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)', fill: 'forwards' });
                        
                        item.animate([
                            { borderColor: 'var(--accent)' },
                            { borderColor: '#333' }
                        ], { duration: 300, fill: 'forwards' });
                    }
                });
            });
        });
    </script>

    <script>
        // Smooth scroll for in-page anchors and elements with data-scroll-to
        // CSS already enables smooth scrolling; this JS adds support for buttons and prevents default hash jumps.
        document.addEventListener('DOMContentLoaded', () => {
            // Handle anchor links like <a href="#intro">
            document.querySelectorAll('a[href^="#"]').forEach(a => {
                a.addEventListener('click', (e) => {
                    const targetId = a.getAttribute('href');
                    // Ignore empty hash
                    if (!targetId || targetId === '#') return;
                    const el = document.querySelector(targetId);
                    if (el) {
                        e.preventDefault();
                        el.scrollIntoView({ behavior: 'smooth', block: 'start' });
                        // Update hash without jumping
                        history.pushState(null, '', targetId);
                    }
                });
            });

            // Handle buttons or any element with data-scroll-to="#id"
            document.querySelectorAll('[data-scroll-to]').forEach(el => {
                el.addEventListener('click', (e) => {
                    const targetId = el.getAttribute('data-scroll-to');
                    if (!targetId) return;
                    const target = document.querySelector(targetId);
                    if (target) {
                        e.preventDefault();
                        target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                        history.pushState(null, '', targetId);
                    }
                });
            });
        });
    </script>

    <script type="module">
        // Vanilla JS animated GrainGradient replacement for a non-React site.
        // Mirrors props: width, height, colors, colorBack, softness, intensity, noise, shape, speed
        const parent = document.getElementById('shader-bg');
        if (parent) {
            // Parameters inspired by the user's React snippet
            const params = {
                colors: ["#7300ff", "#eba8ff", "#00bfff", "#2b00ff"],
                colorBack: "#000000",
                softness: 0.8,     // 0..1 feather for blob edge
                intensity: 0.11,   // 0..1 gradient blend strength
                noise: 0.2,        // 0..1 grain amount
                shape: "blob",    // only 'blob' supported here
                speed: 1        // animation speed
            };

            // Create and attach a canvas
            const canvas = document.createElement('canvas');
            canvas.style.position = 'absolute';
            canvas.style.inset = '0';
            canvas.style.width = '100%';
            canvas.style.height = '100%';
            canvas.style.display = 'block';
            canvas.style.pointerEvents = 'none';
            parent.appendChild(canvas);

            const ctx = canvas.getContext('2d', { willReadFrequently: false });

            // Render at a lower internal resolution and upscale for performance with a nice grainy look
            let renderScale = 0.33; // downscale factor for internal buffer
            function resize() {
                const rect = parent.getBoundingClientRect();
                const dpr = Math.max(1, Math.min(window.devicePixelRatio || 1, 2));
                canvas.width = Math.max(1, Math.floor(rect.width * renderScale * dpr));
                canvas.height = Math.max(1, Math.floor(rect.height * renderScale * dpr));
                // Keep CSS size full-bleed via styles set above
                ctx.imageSmoothingEnabled = true;
                ctx.imageSmoothingQuality = 'high';
            }

            // Helpers
            function hexToRgb(hex) {
                const s = hex.replace('#', '');
                const b = s.length === 3 ? s.split('').map(c => c + c).join('') : s;
                const num = parseInt(b, 16);
                return [(num >> 16) & 255, (num >> 8) & 255, num & 255];
            }
            function lerp(a, b, t) { return a + (b - a) * t; }
            function lerpColor(c1, c2, t) {
                return [
                    Math.round(lerp(c1[0], c2[0], t)),
                    Math.round(lerp(c1[1], c2[1], t)),
                    Math.round(lerp(c1[2], c2[2], t))
                ];
            }
            const palette = params.colors.map(hexToRgb);
            const back = hexToRgb(params.colorBack);

            // Simple hash-based noise for grain (fast, repeatable)
            function hash(n) {
                return Math.abs(Math.sin(n * 1e4) * 43758.5453123) % 1;
            }

            function grain(x, y, t) {
                // Combine coordinates and time for animated grain
                const n = x * 12.9898 + y * 78.233 + t * 37.719;
                return hash(n);
            }

            // Radial "blob" mask with soft edge
            function blobMask(nx, ny, t, softness) {
                // Move the blob center around for motion
                const cx = 0.5 + 0.25 * Math.cos(t * 0.2 * params.speed);
                const cy = 0.5 + 0.2 * Math.sin(t * 0.22 * params.speed);
                const dx = nx - cx;
                const dy = ny - cy;
                const r = Math.sqrt(dx * dx + dy * dy);
                // Blob radius pulsates a bit
                const baseR = 0.42 + 0.06 * Math.sin(t * 0.35 * params.speed + 1.3);
                const edge = Math.max(0.0001, softness * 0.35 + 0.001);
                // Smooth step for feathered edge
                let m = 1.0 - Math.min(1.0, Math.max(0.0, (r - baseR) / edge));
                // Slight turbulence on the edge
                const wobble = 0.015 * Math.sin((nx + ny + t * 0.3 * params.speed) * 18.0);
                m = Math.max(0, Math.min(1, m + wobble));
                return m;
            }

            let start = performance.now();
            function frame(now) {
                const t = (now - start) / 1000; // seconds
                const { width: w, height: h } = canvas;
                const img = ctx.createImageData(w, h);
                const data = img.data;

                // Pre-calc pal steps across 3 colors
                const c0 = palette[0], c1 = palette[1], c2 = palette[2];

                for (let y = 0; y < h; y++) {
                    const ny = y / Math.max(1, h - 1);
                    for (let x = 0; x < w; x++) {
                        const nx = x / Math.max(1, w - 1);

                        // Two-directional gradient position, animated a bit
                        const g1 = nx;
                        const g2 = ny;
                        let g = (g1 * 0.6 + g2 * 0.4) + 0.1 * Math.sin((nx + ny + t * 0.2 * params.speed) * 6.2831);
                        g = Math.max(0, Math.min(1, g));

                        // Map gradient through 3-color palette
                        let col;
                        if (g < 0.5) {
                            col = lerpColor(c0, c1, g / 0.5);
                        } else {
                            col = lerpColor(c1, c2, (g - 0.5) / 0.5);
                        }

                        // Blob mask to mix with background
                        const m = params.shape === 'blob' ? blobMask(nx, ny, t, params.softness) : 1.0;
                        let r = Math.round(lerp(back[0], col[0], params.intensity * m + (1 - m)));
                        let gch = Math.round(lerp(back[1], col[1], params.intensity * m + (1 - m)));
                        let b = Math.round(lerp(back[2], col[2], params.intensity * m + (1 - m)));

                        // Add film grain
                        const gn = (grain(x, y, t * params.speed) - 0.5) * 2.0 * (params.noise * 64);
                        r = Math.max(0, Math.min(255, r + gn));
                        gch = Math.max(0, Math.min(255, gch + gn));
                        b = Math.max(0, Math.min(255, b + gn));

                        const idx = (y * w + x) * 4;
                        data[idx + 0] = r;
                        data[idx + 1] = gch;
                        data[idx + 2] = b;
                        data[idx + 3] = 255;
                    }
                }

                ctx.putImageData(img, 0, 0);
                requestAnimationFrame(frame);
            }

            // Resize handling
            const resizeObserver = new ResizeObserver(() => resize());
            resizeObserver.observe(parent);
            window.addEventListener('resize', resize);
            resize();
            requestAnimationFrame(frame);
        }
    </script>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const terminalShell = document.querySelector('[data-terminal-shell]');
            if (!terminalShell) return;

            const thinking = terminalShell.querySelector('[data-terminal-thinking]');
            const log = terminalShell.querySelector('[data-terminal-log]');
            if (!thinking || !log) return;

            const icons = ['•', '✢', '✳', '*', '✻', '✽'];
            const verbs = ['Кую…', 'Тку…', 'Воплощаю…', 'Взбалтываю…', 'Формирую…', 'Чиню…', 'Настраиваю…', 'Вращаю…', 'Вырезаю…', 'Взываю…'];

            const iconEl = thinking.querySelector('.terminal-thinking__icon');
            const verbEl = thinking.querySelector('.terminal-thinking__text');

            const shuffle = (arr) => arr.slice().sort(() => Math.random() - 0.5);

            const cycleTexts = (element, values, delay) => {
                let index = 0;
                return setInterval(() => {
                    element.textContent = values[index % values.length];
                    index += 1;
                }, delay);
            };

            const runAnimation = () => {
                thinking.classList.add('is-active');
                log.hidden = true;

                const iconInterval = cycleTexts(iconEl, shuffle(icons), 300);
                const verbInterval = cycleTexts(verbEl, shuffle(verbs).slice(0, 4), 800);

                const duration = 2200 + Math.random() * 1500;

                setTimeout(() => {
                    clearInterval(iconInterval);
                    clearInterval(verbInterval);
                    thinking.classList.remove('is-active');
                    log.hidden = false;
                }, duration);
            };

            runAnimation();

            window.addEventListener('terminal-demo-refresh', () => {
                runAnimation();
            });
        });
    </script>
</body>
</html>
